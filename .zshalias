# open with..
alias -s mov=$VIDV
alias -s avi=$VIDV
alias -s wmv=$VIDV
alias -s mkv=$VIDV
alias -s mp4=$VIDV
alias -s mpg=$VIDV
alias -s mpeg=$VIDV
alias -s gif=$IMGV
alias -s jpg=$IMGV
alias -s jpeg=$IMGV
alias -s svg=$IMGV
alias -s png=$IMGV
alias -s pdf=$PDFV
alias -s html=pick-web-browser
alias -s htm=pick-web-browser
alias -s org=pick-web-browser
alias -s com=pick-web-browser
alias -s net=pick-web-browser

# aliases
alias ls="ls -hF --color=auto --group-directories-first"
alias la="ls -AX"
alias lb="la -Ssr"
alias lf="la -d *(-/DN)"
alias lt="la -tr"
alias lls="ls -l"
alias lla="lls -AX"
alias llb="la -1Ssr"
alias llt="lla -tr"
alias llts="llt -- *(D.om[1,10])"
alias llm="llt --time=use -u -- **/*(D.om[1,40])"
alias llf="lla -d *(-/DN)"
alias badcheck="sudo find / -perm -002 \( -type f -o -type d \) -ls"
alias e="bye"
alias cl="clear"
alias rd="rm -r"
alias rds="srm -vr"
alias rms="srm -v"
alias ff="find |grep -i"
alias nocm="egrep -v '^\s*(#|$)'"
alias somesync="sudo rsync -vahu --no-motd --delete-after" # specify..
alias wika="w3m /usr/share/doc/arch-wiki/html/index.html"
alias startx="startx -- -dpi 120"
alias xedit="vim $HOME/.Xdefaults"
alias zedit="vim $HOME/.zshrc"
alias zedia="vim $HOME/.zshalias"
alias zload=". $HOME/.zshrc"
alias redit="vim $HOME/.ratpoisonrc"
alias lasi="3view $HOME/othe/archive/$(llt $HOME/othe/archive |tail -1|awk '{print $9}')"
alias lasid="3view $HOME/othe/archive/$(llt $HOME/othe/archive |tail -2|head -1|awk '{print $9}')"
alias unrarall='for file in `ls *.rar`; do unrar -x r $file; done'
alias unzipall='for file in `ls *.zip`; do unzip $file; done'
alias irb="irb --simple-prompt"
alias diff="colordiff"
alias grep="grep --color=auto"
alias psu="ps fxo etime,pid,pmem,pcpu,comm"
alias psr="ps -u root fo etime,user,pid,pmem,pcpu,command |less"
alias daemons="ls /var/run/daemons"
alias dfu="df -hTP"
alias ping="ping -c 5"
alias siteget='wget --recursive --page-requisites --convert-links --html-extension --no-parent --wait=10 --limit-rate=20K -U Mozilla -l' #depth, then url
alias ncmp="ncmpcpp"
alias rot="rtorrent"
alias cdrwblank="cdrecord -dev=/dev/sr0 -speed=32 -blank=fast"
#alias bcddata="mkisofs -J -R $@ | cdrecord -dev=/dev/sr0 -driveropts=burnfree -speed=32 -"
#alias bcdiso="cdrecord -dev=/dev/sr0 -speed=32 -driveropts=burnfree"
alias bcdmuzk="cdrecord -dev=/dev/sr0 -driveropts=burnfree -audio -pad" #*.wav
#alias rmuzk="rubyripper OR cdparanoia -B 1- && for i in *.wav; do flac -d "$i"; done"
alias bdvddata="growisofs -dvd-compat -speed=16 -iso-level 3 -relaxed-filenames -max-iso9660-filenames -input-charset UTF-8 -Z /dev/dvdrw -R -J -joliet-long -v -l" #-graft-points x=/a \b x=/
#alias bdvdvide="growisofs -dvd-compat -Z /dev/dvdrw -dvd-video" #. #for AUTIO_TS and VIDEO_TS in current dir
alias hb="HandBrakeCLI -e x264 -E ac3 -6 dp12 -R 48 -b 1800 -B 160 -D 3.0 -2 -T -p --decomb -x qp=0:aq-strength=1.5:direct=auto:bframes=6:mixed-refs:no-fast-pskip:8x8dct -i /dev/dvd" #-t/-L -S xMB -o *.mp4
alias mpq="$VIDV -really-quiet"
alias mpn="$VIDV -nosound -really-quiet"
alias mix2="ossmix codec1.jack.int-speaker.mode mix2 >>/dev/null && echo 'Mixer set to PC Speaker'"
alias mix3="ossmix codec1.jack.int-speaker.mode mix3 >>/dev/null && echo 'Mixer set to Headphones'"
alias mute="ossrat -m"
alias vu="ossrat -i 1"
alias vd="ossrat -d 1"
alias svim="sudo vim"
alias upf="sudo fc-cache -vf"
alias upd="sudo updatedb"
alias abs="sudo abs"
alias killn="pkill -f"
alias pacman="pacman-color"
alias ay="yaourt"
alias aive="ay -Q --date | tee $HOME/othe/archive/$(date +%m_%d_%y) >>/dev/null"
alias downgrade="ay -Su --downgrade"
alias clean="ay -Scc"

# functions
function up(){
  local arg=${1:-1};
  while [ $arg -gt 0 ]; do
    cd .. >&/dev/null;
    arg=$(($arg - 1));
  done
}

function back() {
  pushd -q -$1
}

function mkcd() {
  mkdir -p "$@"
  cd "$@"
}

function cpf () {             
if [[ -d $*[-1] ]]; then
  cp $* && cd $*[-1]
elif [[ -d ${*[-1]%/*} ]]; then
  cp $* && cd ${*[-1]%/*}
fi
}

function mvf () {             
if [[ -d $*[-1] ]]; then
  mv $* && cd $*[-1]
elif [[ -d ${*[-1]%/*} ]]; then
  mv $* && cd ${*[-1]%/*}
fi
}

function timer() {
  local start=`date +%s`
  $*
  local stop=`date +%s`
  
  duration=$[$stop - $start]
  echo "Duration: $duration s"
}

function reboot() {
  killall ssh-agent &>/dev/null
  rm $HOME/.ssh/environment &>/dev/null
  sudo reboot
}
function poweroff() {
  killall ssh-agent &>/dev/null
  rm $HOME/.ssh/environment &>/dev/null
  sudo poweroff
}

function fullsync() {
  local CORE=/mnt/s1tb
  local DEST=$CORE/snapshot
  if [ ! -b /dev/disk/by-uuid/de153146-136c-4c7f-84d2-8254d3593fa1 ]; then
    echo $'\E[01;31m'"Device not found, check dmesg and try again." $'\E[0m'
  else
    if [ -f $CORE/.lock ]; then
      echo $'\E[01;36m'"fullsync() has started, please wait ..." $'\E[0m'
      sudo rsync -vahu --no-motd --delete-after \
      --exclude=/tmp \
      --exclude=/dev \
      --exclude=/sys \
      --exclude=/proc \
      --exclude=/media \
      --exclude=/mnt \
      / $DEST

      sudo mkdir -p $DEST/tmp
      sudo mkdir -p $DEST/dev
      sudo mkdir -p $DEST/sys
      sudo mkdir -p $DEST/proc
      sudo mkdir -p $DEST/media/cd
      sudo mkdir -p $DEST/media/dvd
      sudo mkdir -p $DEST/media/fl
      sudo mkdir -p $DEST/media/hdd
      sudo mkdir -p $DEST/mnt/s1tb
      sudo chmod -R 777 $DEST/tmp
      sudo cp -ap /lib/udev/devices/* $DEST/dev/
      echo $'\E[01;36m'"fullsync() has finished, you may now unmount volume: $(echo $CORE)" $'\E[0m'
    else
      echo $'\E[01;31m'"Device was found but does not appear to be mounted, check mtab and try again." $'\E0m'
    fi
  fi
}

function extr() {
  if [ -f $1 ] ; then 
    case $1 in
      *.tar.bz2)   tar xjf $1    ;;
      *.tar.gz)    tar xzf $1    ;;
      *.bz2)       bunzip2 $1    ;;
      *.rar)       unrar e $1    ;;
      *.gz)        gunzip $1     ;;
      *.tar)       tar xf $1     ;;
      *.tbz2)      tar xjf $1    ;;
      *.tgz)       tar xzf $1    ;;
      *.zip)       unzip $1      ;;
      *.Z)         uncompress $1 ;;
      *.7z)        7z x $1    	 ;;
      *.xz)        unxz -vk $1	 ;;
      *.lzma)      unlzma -vk $1 ;;
      *)           echo "'$1' cannot be extracted via extr()" ;;
    esac
  else
    echo "'$1' is not a valid file"
fi
}

function rcstart() { 
  sudo /etc/rc.d/$1 start; 
}
function rcstop() { 
  sudo /etc/rc.d/$1 stop; 
}
function rcrestart() { 
  sudo /etc/rc.d/$1 restart; 
}
function reprobe() {
  sudo modprobe -r $1
  sudo modprobe $1
}

function todo() {
  local arg=$HOME/othe
  case $1 in
    -l ) ls -1 $arg/.TODO* ;;
    * ) vim $arg/.TODO_$1 ;;
  esac
}

function sd() {
  case $1 in
    -w | -wordnet ) sdcv -u "WordNet" $2 ;;
    -t | -thesaurus ) sdcv -u "English Thesaurus" $2 ;;
    -a | -all ) sdcv $2 | less ;;
    *) sdcv -u "WordNet" $1
  esac
}
